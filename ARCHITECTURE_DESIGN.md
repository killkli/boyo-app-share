# AI App Share - å–®é  HTML App å¿«é€Ÿåˆ†äº«å¹³å° - å®Œæ•´æ¶æ§‹è¨­è¨ˆ

## æŠ€è¡“æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ä½¿ç”¨è€…ç€è¦½å™¨                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Cloudflare Pages (å…¨åŸŸ CDN)                        â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚            Nuxt.js å…¨ç«¯æ‡‰ç”¨                        â”‚     â”‚
â”‚  â”‚                                                   â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚     â”‚
â”‚  â”‚  â”‚   Pages (SSR)   â”‚  â”‚  Server API      â”‚      â”‚     â”‚
â”‚  â”‚  â”‚   - é¦–é         â”‚  â”‚  /api/auth/*     â”‚      â”‚     â”‚
â”‚  â”‚  â”‚   - æ¢ç´¢        â”‚  â”‚  /api/apps/*     â”‚      â”‚     â”‚
â”‚  â”‚  â”‚   - APP è©³æƒ…    â”‚  â”‚  /api/users/*    â”‚      â”‚     â”‚
â”‚  â”‚  â”‚   - å‰µå»ºç·¨è¼¯    â”‚  â”‚  /api/comments/* â”‚      â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚     â”‚
â”‚  â”‚                                                   â”‚     â”‚
â”‚  â”‚  Components + Composables + Utils                â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                             â”‚
â”‚  Nitro Engine (Cloudflare Workers Runtime)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“                              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Zeabur          â”‚          â”‚  Tebi S3             â”‚
    â”‚                 â”‚          â”‚                      â”‚
    â”‚  PostgreSQL 15  â”‚          â”‚  æª”æ¡ˆå„²å­˜            â”‚
    â”‚  - users        â”‚          â”‚  - HTML/CSS/JS       â”‚
    â”‚  - apps         â”‚          â”‚  - ç¸®åœ–              â”‚
    â”‚  - comments     â”‚          â”‚  - é ­åƒ              â”‚
    â”‚  - ratings      â”‚          â”‚  25GB å…è²»           â”‚
    â”‚  - favorites    â”‚          â”‚  250GB æµé‡/æœˆ        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ ¸å¿ƒæŠ€è¡“é¸å‹

### å‰ç«¯ + å¾Œç«¯ï¼šNuxt.js 3 on Cloudflare Pages

#### ç‚ºä»€éº¼é¸ Nuxt.jsï¼Ÿ
âœ… **å…¨ç«¯æ¡†æ¶** - å‰ç«¯ + API åœ¨åŒä¸€å°ˆæ¡ˆ
âœ… **é›¶é…ç½®** - Cloudflare Pages åŸç”Ÿæ”¯æ´
âœ… **SSR/SSG** - éˆæ´»çš„æ¸²æŸ“æ¨¡å¼
âœ… **Server Routes** - å…§å»º API è·¯ç”±
âœ… **Nitro å¼•æ“** - éƒ¨ç½²åˆ° Cloudflare Workers
âœ… **TypeScript** - å®Œæ•´å‹åˆ¥æ”¯æ´

#### Cloudflare Pages è¦æ ¼
| é …ç›® | å…è²»é¡åº¦ |
|------|----------|
| é »å¯¬ | **ç„¡é™åˆ¶** |
| è«‹æ±‚æ•¸ | **ç„¡é™åˆ¶** |
| Builds | 500/æœˆ |
| ä¸¦ç™¼ Build | 1 å€‹ |
| è‡ªè¨‚åŸŸå | âœ… |
| SSL è­‰æ›¸ | âœ… è‡ªå‹• |

---

### è³‡æ–™åº«ï¼šZeabur PostgreSQL

#### é€£æ¥æ–¹å¼
```javascript
// Nuxt server/api å¯ä»¥ç›´æ¥é€£æ¥
const pool = new Pool({
  connectionString: process.env.DATABASE_URL
})
```

#### Zeabur PostgreSQL è¦æ ¼
- **å…è²»é¡åº¦**: $5/æœˆ credit
- **å¤–éƒ¨é€£æ¥**: âœ… æ”¯æ´ï¼ˆæä¾› connection stringï¼‰
- **SSL/TLS**: âœ… æ”¯æ´
- **å‚™ä»½**: è‡ªå‹•å¿«ç…§
- **ç‰ˆæœ¬**: PostgreSQL 15+

#### ç’°å¢ƒè®Šæ•¸ï¼ˆZeabur è‡ªå‹•æä¾›ï¼‰
```bash
POSTGRES_HOST=xxx.zeabur.internal
POSTGRES_PORT=5432
POSTGRES_DATABASE=zeabur
POSTGRES_USERNAME=root
POSTGRES_PASSWORD=xxx
POSTGRES_CONNECTION_STRING=postgresql://root:xxx@host:port/zeabur
```

---

### å„²å­˜ï¼šTebi S3

#### å…è²»é¡åº¦
- ğŸ’¾ **25GB å„²å­˜**
- ğŸ“¤ **250GB æµé‡/æœˆ**
- ğŸ” **2 ä»½å‚™ä»½**
- ğŸŒ **æ­æ´²æ©Ÿæˆ¿**
- ğŸ†“ **API å‘¼å«å…è²»**

#### S3 ç›¸å®¹æ€§
âœ… AWS SDK v3 å®Œå…¨ç›¸å®¹
âœ… Presigned URLs
âœ… Bucket Policy
âœ… CORS è¨­å®š

---

## å°ˆæ¡ˆçµæ§‹

```
ai-app-share/
â”œâ”€â”€ .output/                      # Nuxt å»ºæ§‹è¼¸å‡º
â”œâ”€â”€ .nuxt/                        # Nuxt é–‹ç™¼å¿«å–
â”œâ”€â”€ public/                       # éœæ…‹è³‡æº
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â””â”€â”€ images/
â”œâ”€â”€ assets/                       # éœ€ç·¨è­¯çš„è³‡æº
â”‚   â””â”€â”€ css/
â”‚       â””â”€â”€ main.css
â”œâ”€â”€ components/                   # Vue çµ„ä»¶
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ AppCard.vue
â”‚   â”‚   â”œâ”€â”€ AppGrid.vue
â”‚   â”‚   â”œâ”€â”€ AppEditor.vue
â”‚   â”‚   â””â”€â”€ AppPreview.vue
â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”œâ”€â”€ Header.vue
â”‚   â”‚   â”œâ”€â”€ Footer.vue
â”‚   â”‚   â””â”€â”€ Sidebar.vue
â”‚   â”œâ”€â”€ ui/                       # shadcn-vue çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ Button.vue
â”‚   â”‚   â”œâ”€â”€ Input.vue
â”‚   â”‚   â”œâ”€â”€ Dialog.vue
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ common/
â”‚       â”œâ”€â”€ Rating.vue
â”‚       â”œâ”€â”€ Comments.vue
â”‚       â””â”€â”€ TagInput.vue
â”œâ”€â”€ composables/                  # Vue Composables
â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”œâ”€â”€ useApps.ts
â”‚   â”œâ”€â”€ useComments.ts
â”‚   â””â”€â”€ useS3Upload.ts
â”œâ”€â”€ layouts/                      # Nuxt Layouts
â”‚   â”œâ”€â”€ default.vue
â”‚   â””â”€â”€ auth.vue
â”œâ”€â”€ middleware/                   # Nuxt Middleware
â”‚   â”œâ”€â”€ auth.ts                   # å‰ç«¯è·¯ç”±ä¿è­·
â”‚   â””â”€â”€ guest.ts
â”œâ”€â”€ pages/                        # Nuxt Pages (File-based Routing)
â”‚   â”œâ”€â”€ index.vue                 # é¦–é 
â”‚   â”œâ”€â”€ explore.vue               # æ¢ç´¢é é¢
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â””â”€â”€ [id].vue             # APP è©³æƒ…
â”‚   â”œâ”€â”€ create.vue               # å‰µå»º APP
â”‚   â”œâ”€â”€ edit/
â”‚   â”‚   â””â”€â”€ [id].vue             # ç·¨è¼¯ APP
â”‚   â”œâ”€â”€ profile/
â”‚   â”‚   â””â”€â”€ [username].vue       # ä½¿ç”¨è€…é é¢
â”‚   â”œâ”€â”€ login.vue
â”‚   â””â”€â”€ register.vue
â”œâ”€â”€ server/                       # Nuxt Server (Backend)
â”‚   â”œâ”€â”€ api/                      # API Routes
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ register.post.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ login.post.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ logout.post.ts
â”‚   â”‚   â”‚   â””â”€â”€ me.get.ts
â”‚   â”‚   â”œâ”€â”€ apps/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.get.ts     # GET /api/apps
â”‚   â”‚   â”‚   â”œâ”€â”€ index.post.ts    # POST /api/apps
â”‚   â”‚   â”‚   â”œâ”€â”€ [id].get.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ [id].put.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ [id].delete.ts
â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚       â”œâ”€â”€ rate.post.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ comment.post.ts
â”‚   â”‚   â”‚       â””â”€â”€ favorite.post.ts
â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”‚   â””â”€â”€ [username]/
â”‚   â”‚   â”‚       â”œâ”€â”€ index.get.ts
â”‚   â”‚   â”‚       â””â”€â”€ apps.get.ts
â”‚   â”‚   â””â”€â”€ upload/
â”‚   â”‚       â”œâ”€â”€ presigned-url.post.ts  # ç”Ÿæˆ S3 ä¸Šå‚³ URL
â”‚   â”‚       â””â”€â”€ confirm.post.ts        # ç¢ºèªä¸Šå‚³å®Œæˆ
â”‚   â”œâ”€â”€ middleware/                     # Server Middleware
â”‚   â”‚   â”œâ”€â”€ auth.ts                     # JWT é©—è­‰
â”‚   â”‚   â””â”€â”€ error.ts                    # éŒ¯èª¤è™•ç†
â”‚   â”œâ”€â”€ utils/                          # Server Utils
â”‚   â”‚   â”œâ”€â”€ db.ts                       # è³‡æ–™åº«é€£æ¥
â”‚   â”‚   â”œâ”€â”€ s3.ts                       # S3 å®¢æˆ¶ç«¯
â”‚   â”‚   â”œâ”€â”€ jwt.ts                      # JWT å·¥å…·
â”‚   â”‚   â””â”€â”€ validation.ts               # Zod schemas
â”‚   â””â”€â”€ plugins/                        # Server Plugins
â”‚       â””â”€â”€ database.ts
â”œâ”€â”€ types/                        # TypeScript é¡å‹
â”‚   â”œâ”€â”€ app.ts
â”‚   â”œâ”€â”€ user.ts
â”‚   â””â”€â”€ api.ts
â”œâ”€â”€ utils/                        # Client Utils
â”‚   â”œâ”€â”€ constants.ts
â”‚   â””â”€â”€ helpers.ts
â”œâ”€â”€ .env                          # ç’°å¢ƒè®Šæ•¸
â”œâ”€â”€ .gitignore
â”œâ”€â”€ nuxt.config.ts               # Nuxt é…ç½®
â”œâ”€â”€ tailwind.config.ts           # Tailwind é…ç½®
â”œâ”€â”€ tsconfig.json                # TypeScript é…ç½®
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

---

## è³‡æ–™åº«è¨­è¨ˆ

### Schema (PostgreSQL)

```sql
-- Users Table
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  email VARCHAR(255) UNIQUE NOT NULL,
  username VARCHAR(50) UNIQUE NOT NULL,
  password_hash VARCHAR(255) NOT NULL,
  avatar_url TEXT,
  bio TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_users_username ON users(username);

-- Apps Table
CREATE TABLE apps (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  title VARCHAR(255) NOT NULL,
  description TEXT,
  category VARCHAR(50),
  tags TEXT[],

  -- ä¸Šå‚³æ–¹å¼èˆ‡æª”æ¡ˆå„²å­˜
  upload_type VARCHAR(10) CHECK (upload_type IN ('paste', 'file', 'zip')),
  html_s3_key TEXT NOT NULL,           -- ä¸» HTML æª”æ¡ˆçš„ S3 key
  assets_s3_prefix TEXT,               -- å£“ç¸®æª”æ¡ˆè§£å£“å¾Œçš„ S3 è·¯å¾‘å‰ç¶´ (åƒ… zip)
  file_manifest JSONB,                 -- æª”æ¡ˆæ¸…å–® {files: [{path, size, type}]}

  -- Metadata
  thumbnail_s3_key TEXT,               -- 'thumbnails/{uuid}.png'
  is_public BOOLEAN DEFAULT TRUE,
  view_count INTEGER DEFAULT 0,
  like_count INTEGER DEFAULT 0,

  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_apps_user_id ON apps(user_id);
CREATE INDEX idx_apps_category ON apps(category);
CREATE INDEX idx_apps_is_public ON apps(is_public);
CREATE INDEX idx_apps_created_at ON apps(created_at DESC);
CREATE INDEX idx_apps_tags ON apps USING GIN(tags);

-- Ratings Table
CREATE TABLE ratings (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  app_id UUID REFERENCES apps(id) ON DELETE CASCADE,
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  rating INTEGER CHECK (rating >= 1 AND rating <= 5),
  created_at TIMESTAMPTZ DEFAULT NOW(),
  UNIQUE(app_id, user_id)
);

CREATE INDEX idx_ratings_app_id ON ratings(app_id);

-- Comments Table
CREATE TABLE comments (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  app_id UUID REFERENCES apps(id) ON DELETE CASCADE,
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  content TEXT NOT NULL,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_comments_app_id ON comments(app_id);
CREATE INDEX idx_comments_created_at ON comments(created_at DESC);

-- Favorites Table
CREATE TABLE favorites (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  app_id UUID REFERENCES apps(id) ON DELETE CASCADE,
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  UNIQUE(app_id, user_id)
);

CREATE INDEX idx_favorites_user_id ON favorites(user_id);
CREATE INDEX idx_favorites_app_id ON favorites(app_id);

-- View to get app with stats
CREATE VIEW apps_with_stats AS
SELECT
  a.*,
  u.username as author_username,
  u.avatar_url as author_avatar,
  COUNT(DISTINCT r.id) as rating_count,
  COALESCE(AVG(r.rating), 0) as avg_rating,
  COUNT(DISTINCT c.id) as comment_count,
  COUNT(DISTINCT f.id) as favorite_count
FROM apps a
LEFT JOIN users u ON a.user_id = u.id
LEFT JOIN ratings r ON a.id = r.app_id
LEFT JOIN comments c ON a.id = c.app_id
LEFT JOIN favorites f ON a.id = f.app_id
GROUP BY a.id, u.username, u.avatar_url;
```

---

## S3 æª”æ¡ˆçµæ§‹ (Tebi)

### Bucket: `ai-app-share`

```
ai-app-share/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ {uuid}/                  # å–®å€‹ App çš„ç›®éŒ„
â”‚   â”‚   â”œâ”€â”€ index.html          # ä¸» HTML æª”æ¡ˆï¼ˆå¿…é ˆï¼‰
â”‚   â”‚   â”œâ”€â”€ style.css           # CSS æª”æ¡ˆï¼ˆå¯é¸ï¼Œä¾†è‡ª ZIPï¼‰
â”‚   â”‚   â”œâ”€â”€ script.js           # JS æª”æ¡ˆï¼ˆå¯é¸ï¼Œä¾†è‡ª ZIPï¼‰
â”‚   â”‚   â”œâ”€â”€ images/             # åœ–ç‰‡ç›®éŒ„ï¼ˆä¾†è‡ª ZIPï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ logo.png
â”‚   â”‚   â”‚   â””â”€â”€ background.jpg
â”‚   â”‚   â”œâ”€â”€ libs/               # ç¬¬ä¸‰æ–¹åº«ï¼ˆä¾†è‡ª ZIPï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ jquery.min.js
â”‚   â”‚   â””â”€â”€ ...                 # å…¶ä»–æª”æ¡ˆï¼ˆä¿æŒ ZIP å…§çš„ç›®éŒ„çµæ§‹ï¼‰
â”‚   â”œâ”€â”€ {uuid2}/
â”‚   â”‚   â””â”€â”€ index.html          # åƒ…å‰ªè²¼ç°¿/å–®æª”ä¸Šå‚³çš„ App
â”‚   â””â”€â”€ ...
â”œâ”€â”€ thumbnails/
â”‚   â”œâ”€â”€ {uuid}.png              # APP ç¸®åœ–
â”‚   â”œâ”€â”€ {uuid2}.png
â”‚   â””â”€â”€ ...
â””â”€â”€ avatars/
    â”œâ”€â”€ {user-uuid}.jpg         # ä½¿ç”¨è€…é ­åƒ
    â””â”€â”€ ...
```

### URL ç¯„ä¾‹

#### å‰ªè²¼ç°¿/å–®æª”ä¸Šå‚³
```
HTML: https://s3.tebi.io/ai-app-share/apps/123.../index.html
```

#### ZIP å£“ç¸®æª”ä¸Šå‚³ï¼ˆä¿æŒç›®éŒ„çµæ§‹ï¼‰
```
ä¸» HTML: https://s3.tebi.io/ai-app-share/apps/456.../index.html
CSS:     https://s3.tebi.io/ai-app-share/apps/456.../style.css
åœ–ç‰‡:    https://s3.tebi.io/ai-app-share/apps/456.../images/logo.png
JS åº«:   https://s3.tebi.io/ai-app-share/apps/456.../libs/jquery.min.js
```

#### å…¶ä»–
```
ç¸®åœ–: https://s3.tebi.io/ai-app-share/thumbnails/123.../thumb.png
é ­åƒ: https://s3.tebi.io/ai-app-share/avatars/user-uuid.jpg
```

---

## API è¨­è¨ˆ

### èªè­‰ API

#### POST /api/auth/register
```typescript
// Request
{
  email: string
  username: string
  password: string
}

// Response
{
  user: {
    id: string
    email: string
    username: string
  }
  token: string
}
```

#### POST /api/auth/login
```typescript
// Request
{
  email: string
  password: string
}

// Response
{
  user: User
  token: string
}
```

#### GET /api/auth/me
```typescript
// Headers
Authorization: Bearer {token}

// Response
{
  user: User
}
```

---

### APP API

#### GET /api/apps
```typescript
// Query Params
?page=1
&limit=20
&category=math
&tags=interactive,game
&sort=latest|popular|rating
&search=keyword

// Response
{
  apps: App[]
  total: number
  page: number
  totalPages: number
}
```

#### GET /api/apps/[id]
```typescript
// Response
{
  app: App & {
    author: User
    stats: {
      views: number
      ratings: number
      avgRating: number
      comments: number
      favorites: number
    }
  }
  userRating?: number  // ç•¶å‰ä½¿ç”¨è€…è©•åˆ†
  isFavorited: boolean
}
```

#### POST /api/apps
```typescript
// Headers
Authorization: Bearer {token}

// Request (ä¸‰ç¨®ä¸Šå‚³æ–¹å¼)

// æ–¹å¼ 1: å‰ªè²¼ç°¿è²¼ä¸Š
{
  uploadType: 'paste'
  title: string
  description: string
  category: string
  tags: string[]
  htmlContent: string      // HTML ç¨‹å¼ç¢¼
  thumbnail?: string       // Base64 image
}

// æ–¹å¼ 2: ä¸Šå‚³ HTML æª”æ¡ˆ
{
  uploadType: 'file'
  title: string
  description: string
  category: string
  tags: string[]
  htmlFile: File           // HTML æª”æ¡ˆ
  thumbnail?: File
}

// æ–¹å¼ 3: ä¸Šå‚³ ZIP å£“ç¸®æª”
{
  uploadType: 'zip'
  title: string
  description: string
  category: string
  tags: string[]
  zipFile: File            // ZIP æª”æ¡ˆ
  mainHtmlPath?: string    // ä¸» HTML æª”æ¡ˆè·¯å¾‘ï¼ˆå¯é¸ï¼Œè‡ªå‹•åµæ¸¬ï¼‰
  thumbnail?: File
}

// Response
{
  app: App
  urls: {
    html: string
    preview: string
    assets?: string[]      // ZIP ä¸Šå‚³æ™‚çš„æ‰€æœ‰æª”æ¡ˆ URL
  }
  manifest?: {             // ZIP ä¸Šå‚³æ™‚çš„æª”æ¡ˆæ¸…å–®
    files: Array<{
      path: string
      size: number
      type: string
    }>
  }
}
```

#### PUT /api/apps/[id]
```typescript
// Headers
Authorization: Bearer {token}

// Request (same as POST)

// Response
{
  app: App
}
```

#### DELETE /api/apps/[id]
```typescript
// Headers
Authorization: Bearer {token}

// Response
{
  success: boolean
}
```

---

### äº’å‹• API

#### POST /api/apps/[id]/rate
```typescript
// Headers
Authorization: Bearer {token}

// Request
{
  rating: 1 | 2 | 3 | 4 | 5
}

// Response
{
  rating: number
  avgRating: number
}
```

#### POST /api/apps/[id]/comment
```typescript
// Headers
Authorization: Bearer {token}

// Request
{
  content: string
}

// Response
{
  comment: Comment & {
    user: User
  }
}
```

#### POST /api/apps/[id]/favorite
```typescript
// Headers
Authorization: Bearer {token}

// Response
{
  isFavorited: boolean
}
```

---

## æ ¸å¿ƒåŠŸèƒ½å¯¦ç¾

### 1. èªè­‰æµç¨‹

```typescript
// server/utils/jwt.ts
import jwt from 'jsonwebtoken'

export const generateToken = (userId: string) => {
  return jwt.sign({ userId }, process.env.JWT_SECRET!, {
    expiresIn: '7d'
  })
}

export const verifyToken = (token: string) => {
  return jwt.verify(token, process.env.JWT_SECRET!)
}

// server/middleware/auth.ts
export default defineEventHandler(async (event) => {
  const path = event.node.req.url

  // å…¬é–‹è·¯ç”±è·³é
  if (path?.startsWith('/api/auth') || path?.startsWith('/api/apps') && event.node.req.method === 'GET') {
    return
  }

  // é©—è­‰ JWT
  const authorization = getHeader(event, 'authorization')
  if (!authorization) {
    throw createError({
      statusCode: 401,
      message: 'Unauthorized'
    })
  }

  const token = authorization.replace('Bearer ', '')
  const decoded = verifyToken(token)
  event.context.userId = decoded.userId
})
```

---

### 2. S3 æª”æ¡ˆä¸Šå‚³

```typescript
// server/utils/s3.ts
import { S3Client, PutObjectCommand, DeleteObjectCommand } from '@aws-sdk/client-s3'
import { getSignedUrl } from '@aws-sdk/s3-request-presigner'

const s3Client = new S3Client({
  region: 'auto',
  endpoint: process.env.TEBI_ENDPOINT,
  credentials: {
    accessKeyId: process.env.TEBI_ACCESS_KEY!,
    secretAccessKey: process.env.TEBI_SECRET_KEY!,
  },
})

export const uploadToS3 = async (key: string, body: string | Buffer, contentType: string) => {
  await s3Client.send(new PutObjectCommand({
    Bucket: process.env.TEBI_BUCKET,
    Key: key,
    Body: body,
    ContentType: contentType,
    ACL: 'public-read',
  }))

  return `${process.env.TEBI_ENDPOINT}/${process.env.TEBI_BUCKET}/${key}`
}

export const deleteFromS3 = async (key: string) => {
  await s3Client.send(new DeleteObjectCommand({
    Bucket: process.env.TEBI_BUCKET,
    Key: key,
  }))
}

export const getPresignedUploadUrl = async (key: string, contentType: string) => {
  const command = new PutObjectCommand({
    Bucket: process.env.TEBI_BUCKET,
    Key: key,
    ContentType: contentType,
    ACL: 'public-read',
  })

  return await getSignedUrl(s3Client, command, { expiresIn: 3600 })
}

// server/api/apps/index.post.ts
export default defineEventHandler(async (event) => {
  const userId = event.context.userId
  const { uploadType, title, description, category, tags } = await readBody(event)
  const appId = crypto.randomUUID()

  let htmlS3Key: string
  let assetsPrefix: string | null = null
  let fileManifest: any = null

  // æ ¹æ“šä¸Šå‚³æ–¹å¼è™•ç†
  switch (uploadType) {
    case 'paste': {
      // å‰ªè²¼ç°¿è²¼ä¸Š
      const { htmlContent } = await readBody(event)
      htmlS3Key = `apps/${appId}/index.html`
      await uploadToS3(htmlS3Key, htmlContent, 'text/html')
      break
    }

    case 'file': {
      // ä¸Šå‚³å–®å€‹ HTML æª”æ¡ˆ
      const formData = await readMultipartFormData(event)
      const htmlFile = formData?.find(f => f.name === 'htmlFile')
      htmlS3Key = `apps/${appId}/index.html`
      await uploadToS3(htmlS3Key, htmlFile.data, 'text/html')
      break
    }

    case 'zip': {
      // ä¸Šå‚³ ZIP å£“ç¸®æª”
      const formData = await readMultipartFormData(event)
      const zipFile = formData?.find(f => f.name === 'zipFile')

      // è§£å£“ç¸® ZIP
      const AdmZip = (await import('adm-zip')).default
      const zip = new AdmZip(zipFile.data)
      const zipEntries = zip.getEntries()

      // æª”æ¡ˆæ¸…å–®
      const files: any[] = []

      // ä¸Šå‚³æ‰€æœ‰æª”æ¡ˆåˆ° S3ï¼ˆä¿æŒç›®éŒ„çµæ§‹ï¼‰
      for (const entry of zipEntries) {
        if (!entry.isDirectory) {
          const s3Key = `apps/${appId}/${entry.entryName}`
          const mimeType = getMimeType(entry.entryName)
          await uploadToS3(s3Key, entry.getData(), mimeType)

          files.push({
            path: entry.entryName,
            size: entry.header.size,
            type: mimeType
          })
        }
      }

      // è‡ªå‹•åµæ¸¬ä¸» HTML æª”æ¡ˆ
      const mainHtml = files.find(f =>
        f.path === 'index.html' ||
        f.path.endsWith('/index.html') ||
        f.path.endsWith('.html')
      )

      htmlS3Key = `apps/${appId}/${mainHtml.path}`
      assetsPrefix = `apps/${appId}/`
      fileManifest = { files }
      break
    }
  }

  // å„²å­˜åˆ°è³‡æ–™åº«
  const app = await db.query(`
    INSERT INTO apps (
      id, user_id, title, description, category, tags,
      upload_type, html_s3_key, assets_s3_prefix, file_manifest
    )
    VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)
    RETURNING *
  `, [
    appId, userId, title, description, category, tags,
    uploadType, htmlS3Key, assetsPrefix, JSON.stringify(fileManifest)
  ])

  return {
    app: app.rows[0],
    urls: {
      html: `${process.env.TEBI_ENDPOINT}/${process.env.TEBI_BUCKET}/${htmlS3Key}`,
      preview: `/app/${appId}`
    },
    manifest: fileManifest
  }
})
```

---

### 3. APP é è¦½ï¼ˆå®‰å…¨æ²™ç›’ï¼‰

```vue
<!-- components/app/AppPreview.vue -->
<template>
  <div class="app-preview">
    <iframe
      :src="previewUrl"
      sandbox="allow-scripts allow-same-origin"
      class="w-full h-full border-0"
    />
  </div>
</template>

<script setup lang="ts">
const props = defineProps<{
  appId: string
}>()

const previewUrl = computed(() =>
  `https://s3.tebi.io/ai-app-share/apps/${props.appId}/index.html`
)
</script>
```

---

### 4. å³æ™‚ç·¨è¼¯å™¨

```vue
<!-- pages/create.vue -->
<template>
  <div class="grid grid-cols-2 gap-4 h-screen">
    <!-- ç·¨è¼¯å™¨ -->
    <div>
      <MonacoEditor
        v-model="htmlContent"
        language="html"
        theme="vs-dark"
      />
    </div>

    <!-- é è¦½ -->
    <div>
      <iframe
        :srcdoc="htmlContent"
        sandbox="allow-scripts"
        class="w-full h-full"
      />
    </div>
  </div>
</template>

<script setup lang="ts">
const htmlContent = ref(`<!DOCTYPE html>
<html>
<head>
  <style>
    body { font-family: sans-serif; }
  </style>
</head>
<body>
  <h1>Hello World</h1>
</body>
</html>`)

const saveApp = async () => {
  await $fetch('/api/apps', {
    method: 'POST',
    body: {
      title: '...',
      htmlContent: htmlContent.value
    },
    headers: {
      Authorization: `Bearer ${token.value}`
    }
  })
}
</script>
```

---

## ç’°å¢ƒè®Šæ•¸é…ç½®

### `.env` (æœ¬åœ°é–‹ç™¼)
```bash
# Database (Zeabur)
DATABASE_URL=postgresql://root:password@host:5432/database

# JWT
JWT_SECRET=your-super-secret-key-change-in-production

# Tebi S3
TEBI_ENDPOINT=https://s3.tebi.io
TEBI_ACCESS_KEY=your-access-key
TEBI_SECRET_KEY=your-secret-key
TEBI_BUCKET=ai-app-share

# App
NUXT_PUBLIC_API_BASE=/api
```

### Cloudflare Pages ç’°å¢ƒè®Šæ•¸
åœ¨ Cloudflare Dashboard è¨­å®šï¼š
```
DATABASE_URL=postgresql://...
JWT_SECRET=...
TEBI_ENDPOINT=https://s3.tebi.io
TEBI_ACCESS_KEY=...
TEBI_SECRET_KEY=...
TEBI_BUCKET=ai-app-share
```

---

## éƒ¨ç½²é…ç½®

### `nuxt.config.ts`
```typescript
export default defineNuxtConfig({
  // Cloudflare Pages è‡ªå‹•åµæ¸¬ï¼Œä½†å¯æ˜ç¢ºæŒ‡å®š
  nitro: {
    preset: 'cloudflare-pages',

    // æ•¸æ“šåº«é€£æ¥æ± é…ç½®
    experimental: {
      database: true
    }
  },

  // é‹è¡Œæ™‚é…ç½®
  runtimeConfig: {
    // Private (server-only)
    databaseUrl: process.env.DATABASE_URL,
    jwtSecret: process.env.JWT_SECRET,
    tebiEndpoint: process.env.TEBI_ENDPOINT,
    tebiAccessKey: process.env.TEBI_ACCESS_KEY,
    tebiSecretKey: process.env.TEBI_SECRET_KEY,
    tebiBucket: process.env.TEBI_BUCKET,

    // Public (client-exposed)
    public: {
      apiBase: '/api',
      s3BaseUrl: 'https://s3.tebi.io/ai-app-share'
    }
  },

  // æ¨¡çµ„
  modules: [
    '@nuxtjs/tailwindcss',
    'shadcn-nuxt',
    '@vueuse/nuxt'
  ],

  // TypeScript
  typescript: {
    strict: true,
    typeCheck: true
  },

  // é–‹ç™¼ä¼ºæœå™¨
  devServer: {
    port: 3000
  }
})
```

### `package.json`
```json
{
  "name": "ai-app-share",
  "type": "module",
  "scripts": {
    "dev": "nuxt dev",
    "build": "nuxt build",
    "preview": "nuxt preview",
    "deploy": "wrangler pages deploy .output/public"
  },
  "dependencies": {
    "@aws-sdk/client-s3": "^3.550.0",
    "@aws-sdk/s3-request-presigner": "^3.550.0",
    "adm-zip": "^0.5.10",
    "bcrypt": "^5.1.1",
    "jsonwebtoken": "^9.0.2",
    "mime-types": "^2.1.35",
    "nuxt": "^3.11.0",
    "pg": "^8.11.3",
    "vue": "^3.4.21",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@nuxtjs/tailwindcss": "^6.11.4",
    "@types/adm-zip": "^0.5.5",
    "@types/bcrypt": "^5.0.2",
    "@types/jsonwebtoken": "^9.0.6",
    "@types/mime-types": "^2.1.4",
    "@types/pg": "^8.11.5",
    "@vueuse/nuxt": "^10.9.0",
    "shadcn-nuxt": "^0.10.0",
    "typescript": "^5.4.3",
    "wrangler": "^3.45.0"
  }
}
```

---

## éƒ¨ç½²æµç¨‹

### 1. å‰ç½®æº–å‚™

#### A. è¨­å®š Zeabur PostgreSQL
```bash
1. ç™»å…¥ Zeabur Dashboard
2. å‰µå»ºæ–°å°ˆæ¡ˆ
3. æ–°å¢æœå‹™ â†’ PostgreSQL
4. è¤‡è£½ POSTGRES_CONNECTION_STRING
```

#### B. è¨­å®š Tebi S3
```bash
1. è¨»å†Š Tebi å¸³è™Ÿ (https://tebi.io)
2. å‰µå»º Bucket: ai-app-share
3. è¨­å®š Public Read æ¬Šé™
4. ç”Ÿæˆ Access Key å’Œ Secret Key
5. è¨­å®š CORS:
   {
     "CORSRules": [{
       "AllowedOrigins": ["*"],
       "AllowedMethods": ["GET", "HEAD"],
       "AllowedHeaders": ["*"]
     }]
   }
```

#### C. åŸ·è¡Œè³‡æ–™åº«é·ç§»
```bash
# é€£æ¥åˆ° Zeabur PostgreSQL
psql $DATABASE_URL

# åŸ·è¡Œ SQL schema (å¾ä¸Šé¢çš„è³‡æ–™åº«è¨­è¨ˆ)
\i schema.sql
```

---

### 2. Cloudflare Pages éƒ¨ç½²

#### æ–¹æ³• 1ï¼šGit æ•´åˆï¼ˆæ¨è–¦ï¼‰

```bash
# 1. æ¨é€åˆ° GitHub
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/your-username/ai-app-share.git
git push -u origin main

# 2. é€£æ¥ Cloudflare Pages
1. ç™»å…¥ Cloudflare Dashboard
2. Pages â†’ Create a project
3. Connect to Git â†’ é¸æ“‡ä½ çš„å€‰åº«
4. é…ç½®å»ºæ§‹è¨­å®š:
   - Framework preset: Nuxt.js
   - Build command: nuxt build
   - Build output directory: .output/public
5. è¨­å®šç’°å¢ƒè®Šæ•¸ (ä¸Šé¢åˆ—çš„æ‰€æœ‰è®Šæ•¸)
6. Save and Deploy
```

#### æ–¹æ³• 2ï¼šCLI éƒ¨ç½²

```bash
# 1. å»ºæ§‹å°ˆæ¡ˆ
npm run build

# 2. éƒ¨ç½²åˆ° Cloudflare
npm install -g wrangler
wrangler login
wrangler pages deploy .output/public --project-name=ai-app-share
```

---

### 3. è¨­å®šè‡ªè¨‚åŸŸåï¼ˆå¯é¸ï¼‰

```bash
1. Cloudflare Pages Dashboard
2. é¸æ“‡å°ˆæ¡ˆ â†’ Custom domains
3. æ–°å¢åŸŸå: app.yourdomain.com
4. æ›´æ–° DNS è¨˜éŒ„ï¼ˆCloudflare æœƒè‡ªå‹•è™•ç†ï¼‰
```

---

## æˆæœ¬ä¼°ç®—

### å…è²»éšæ®µï¼ˆ0-1000 ä½¿ç”¨è€…ï¼‰

| æœå‹™ | ç”¨é‡é ä¼° | æˆæœ¬ |
|------|----------|------|
| **Cloudflare Pages** | 50K è«‹æ±‚/æœˆ | **$0** |
| **Zeabur PostgreSQL** | 256MB RAM + 500MB å„²å­˜ | **$0** (åœ¨ $5 credit å…§) |
| **Tebi S3** | 5GB å„²å­˜ + 50GB æµé‡ | **$0** |
| **ç¸½è¨ˆ** | | **$0/æœˆ** âœ… |

### æˆé•·éšæ®µï¼ˆ1000-10000 ä½¿ç”¨è€…ï¼‰

| æœå‹™ | ç”¨é‡é ä¼° | æˆæœ¬ |
|------|----------|------|
| **Cloudflare Pages** | 1M è«‹æ±‚/æœˆ | **$0** (ç„¡é™æµé‡) |
| **Zeabur** | 512MB RAM + 2GB å„²å­˜ | **~$8-12/æœˆ** |
| **Tebi S3** | 40GB å„²å­˜ + 300GB æµé‡ | **$0.8 + $0.5 = $1.3/æœˆ** |
| **ç¸½è¨ˆ** | | **~$9-13/æœˆ** |

### æ“´å±•éšæ®µï¼ˆ10000+ ä½¿ç”¨è€…ï¼‰

| æœå‹™ | ç”¨é‡é ä¼° | æˆæœ¬ |
|------|----------|------|
| **Cloudflare Pages** | 10M è«‹æ±‚/æœˆ | **$0** |
| **Zeabur** | 1GB RAM + 10GB å„²å­˜ | **~$25-35/æœˆ** |
| **Tebi S3** | 150GB å„²å­˜ + 1TB æµé‡ | **$2.5 + $7.5 = $10/æœˆ** |
| **ç¸½è¨ˆ** | | **~$35-45/æœˆ** |

---

## æ€§èƒ½å„ªåŒ–

### 1. Cloudflare å¿«å–
```typescript
// server/middleware/cache.ts
export default defineEventHandler((event) => {
  const path = event.node.req.url

  // éœæ…‹è³‡æºå¿«å– 1 å¤©
  if (path?.match(/\.(png|jpg|css|js)$/)) {
    setResponseHeader(event, 'Cache-Control', 'public, max-age=86400')
  }

  // API å›æ‡‰å¿«å– 5 åˆ†é˜
  if (path?.startsWith('/api/apps') && event.node.req.method === 'GET') {
    setResponseHeader(event, 'Cache-Control', 'public, max-age=300')
  }
})
```

### 2. è³‡æ–™åº«é€£æ¥æ± 
```typescript
// server/utils/db.ts
import { Pool } from 'pg'

let pool: Pool

export const getDb = () => {
  if (!pool) {
    pool = new Pool({
      connectionString: useRuntimeConfig().databaseUrl,
      max: 10,
      idleTimeoutMillis: 30000,
      connectionTimeoutMillis: 2000,
    })
  }
  return pool
}
```

### 3. S3 CDN å¿«å–
```typescript
// ä¸Šå‚³æ™‚è¨­å®š Cache-Control
await uploadToS3(key, body, contentType, {
  CacheControl: 'public, max-age=31536000' // 1 å¹´
})
```

---

## å®‰å…¨æªæ–½

### 1. SQL Injection é˜²è­·
```typescript
// ä½¿ç”¨ Parameterized Queries
const result = await db.query(
  'SELECT * FROM users WHERE email = $1',
  [email]
)
```

### 2. XSS é˜²è­·
```typescript
// server/utils/validation.ts
import { z } from 'zod'
import DOMPurify from 'isomorphic-dompurify'

export const sanitizeHtml = (html: string) => {
  return DOMPurify.sanitize(html, {
    ALLOWED_TAGS: ['div', 'span', 'p', 'h1', 'h2', 'h3', 'button', 'input'],
    ALLOWED_ATTR: ['class', 'id', 'style', 'type', 'value']
  })
}

export const appSchema = z.object({
  title: z.string().min(1).max(255),
  description: z.string().max(5000),
  htmlContent: z.string().max(1000000), // 1MB
})
```

### 3. Rate Limiting
```typescript
// server/middleware/rateLimit.ts
const rateLimitMap = new Map()

export default defineEventHandler((event) => {
  const ip = getHeader(event, 'cf-connecting-ip') || 'unknown'
  const now = Date.now()
  const windowMs = 15 * 60 * 1000 // 15 åˆ†é˜
  const maxRequests = 100

  const requests = rateLimitMap.get(ip) || []
  const recentRequests = requests.filter((time: number) => now - time < windowMs)

  if (recentRequests.length >= maxRequests) {
    throw createError({
      statusCode: 429,
      message: 'Too many requests'
    })
  }

  recentRequests.push(now)
  rateLimitMap.set(ip, recentRequests)
})
```

### 4. CORS è¨­å®š
```typescript
// nuxt.config.ts
export default defineNuxtConfig({
  nitro: {
    routeRules: {
      '/api/**': {
        cors: true,
        headers: {
          'Access-Control-Allow-Origin': '*',
          'Access-Control-Allow-Methods': 'GET,POST,PUT,DELETE',
          'Access-Control-Allow-Headers': 'Content-Type,Authorization'
        }
      }
    }
  }
})
```

---

## ç›£æ§èˆ‡æ—¥èªŒ

### Cloudflare Analytics
```typescript
// è‡ªå‹•å•Ÿç”¨ï¼Œåœ¨ Dashboard æŸ¥çœ‹:
- è«‹æ±‚æ•¸
- é »å¯¬ä½¿ç”¨
- éŒ¯èª¤ç‡
- å›æ‡‰æ™‚é–“
```

### éŒ¯èª¤è¿½è¹¤
```typescript
// server/middleware/error.ts
export default defineEventHandler(async (event) => {
  try {
    await runHandler(event)
  } catch (error) {
    console.error('[API Error]', {
      path: event.node.req.url,
      method: event.node.req.method,
      error: error.message,
      stack: error.stack,
      timestamp: new Date().toISOString()
    })

    throw createError({
      statusCode: 500,
      message: 'Internal server error'
    })
  }
})
```

---

## é–‹ç™¼å·¥ä½œæµç¨‹

### 1. æœ¬åœ°é–‹ç™¼
```bash
# å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run dev

# è¨ªå•
http://localhost:3000
```

### 2. é è¦½å»ºæ§‹
```bash
# å»ºæ§‹
npm run build

# æœ¬åœ°é è¦½
npm run preview
```

### 3. éƒ¨ç½²
```bash
# Git Pushï¼ˆè‡ªå‹•éƒ¨ç½²ï¼‰
git add .
git commit -m "feat: add new feature"
git push

# æˆ–æ‰‹å‹•éƒ¨ç½²
npm run build
wrangler pages deploy .output/public
```

---

## å¾…è¾¦äº‹é …ï¼ˆå¯¦æ–½éšæ®µï¼‰

### éšæ®µ 1ï¼šå°ˆæ¡ˆåˆå§‹åŒ– âœ…
- [ ] å»ºç«‹ Nuxt.js å°ˆæ¡ˆ
- [ ] å®‰è£ä¾è³´
- [ ] è¨­å®š TailwindCSS + shadcn-vue
- [ ] å»ºç«‹åŸºæœ¬ Layout

### éšæ®µ 2ï¼šè³‡æ–™åº«èˆ‡èªè­‰
- [ ] è¨­å®š Zeabur PostgreSQL
- [ ] åŸ·è¡Œè³‡æ–™åº« schema
- [ ] å¯¦ç¾è¨»å†Š/ç™»å…¥ API
- [ ] JWT èªè­‰ä¸­ä»‹å±¤
- [ ] ç™»å…¥/è¨»å†Šé é¢

### éšæ®µ 3ï¼šS3 æª”æ¡ˆä¸Šå‚³
- [ ] è¨­å®š Tebi S3
- [ ] S3 ä¸Šå‚³å·¥å…·å‡½æ•¸
- [ ] Presigned URL API
- [ ] æª”æ¡ˆä¸Šå‚³çµ„ä»¶

### éšæ®µ 4ï¼šAPP CRUD
- [ ] å‰µå»º APP API
- [ ] Monaco Editor æ•´åˆ
- [ ] å³æ™‚é è¦½
- [ ] APP åˆ—è¡¨é é¢
- [ ] APP è©³æƒ…é é¢

### éšæ®µ 5ï¼šäº’å‹•åŠŸèƒ½
- [ ] è©•åˆ†ç³»çµ±
- [ ] è©•è«–ç³»çµ±
- [ ] æ”¶è—åŠŸèƒ½
- [ ] æœå°‹èˆ‡ç¯©é¸

### éšæ®µ 6ï¼šéƒ¨ç½²èˆ‡å„ªåŒ–
- [ ] Cloudflare Pages éƒ¨ç½²
- [ ] ç’°å¢ƒè®Šæ•¸è¨­å®š
- [ ] æ€§èƒ½å„ªåŒ–
- [ ] æ¸¬è©¦èˆ‡é™¤éŒ¯

---

## ä¸‹ä¸€æ­¥

âœ… **æ¶æ§‹è¨­è¨ˆå®Œæˆ**

ç¾åœ¨ä½ å¯ä»¥ï¼š
1. **å¯©æŸ¥è¨­è¨ˆ** - æª¢æŸ¥æ˜¯å¦æœ‰éœ€è¦èª¿æ•´çš„åœ°æ–¹
2. **é–‹å§‹å¯¦æ–½** - æˆ‘å¯ä»¥å¹«ä½ å»ºç«‹å°ˆæ¡ˆ
3. **æå‡ºå•é¡Œ** - ä»»ä½•ä¸æ¸…æ¥šçš„åœ°æ–¹

æº–å‚™å¥½é–‹å§‹äº†å—ï¼Ÿ
